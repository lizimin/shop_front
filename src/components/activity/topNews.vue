<template>
  <div id="comment">
    <div class="notice cpts-notice">
      <div class="notice-logo">
        <div>
          <svg width="72px" height="56px" viewBox="0 0 72 56" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
              
                <defs>
                    <path d="M42.0044602,40.2986924 L42.3555967,38.3833183 L47.6282745,38.3833183 L47.277138,40.2986924 L58.5569518,40.2986924 L58.106319,42.7567977 L46.8265052,42.7567977 L46.3249436,45.492708 L44.9599546,48 L39.6311186,48 L40.9553304,46.0214698 L41.5538274,42.7567977 L30.6051627,42.7567977 L31.0557956,40.2986924 L42.0044602,40.2986924 Z M36.9626758,28 L42.8306761,28 L41.8595997,28.9287455 L58.8677873,29.1658152 L58.2005829,32.8052721 L51.5916263,34.8396274 L59,37.3784434 L58.7285226,38.8592942 L51.3663586,38.8592942 L45.8872768,36.782764 L44.834645,36.782764 L38.6039439,38.8592942 L31.4364493,38.8592942 L31.7181983,37.3224139 L39.924229,34.8396274 L37.5894384,33.9025343 L37.0660014,34.8396274 L31.3028898,34.8396274 L36.9626758,28 Z M41.553286,31.4667268 L46.0322281,33.2674547 L51.171408,31.4667268 L41.553286,31.4667268 Z M32.4013952,43.5960132 L37.4835063,43.5960132 L35.3276627,47.9141875 L30,47.9141875 L32.4013952,43.5960132 Z M51.0096628,43.5170456 L56.0776188,43.5170456 L56.6871564,47.8792948 L51.6127161,47.8792948 L51.0096628,43.5170456 Z" id="path-1"></path>
                    <filter x="-22.4%" y="-27.5%" width="144.8%" height="165.0%" filterUnits="objectBoundingBox" id="filter-2">
                        <feOffset dx="0" dy="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset>
                        <feGaussianBlur stdDeviation="2" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur>
                        <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.5 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix>
                    </filter>
                    <path d="M12.1992257,40.6908993 L1.66290646,40.6908993 L2.1168305,38.2232244 L16.0100006,38.2232244 L17.8905431,28 L23.0090795,28 L21.128537,38.2232244 L31,38.2232244 L30.546076,40.6908993 L23.0166857,40.6908993 L28.9066481,47.0434462 L28.7306918,48 L22.6840337,48 L17.3790049,42.8103621 L8.07917382,48 L1,48 L1.2120579,46.8471861 L12.1992257,40.6908993 Z M7.11505594,28.2958292 L12.7840837,28.2958292 L13.4818825,32.4880189 L8.23599153,32.4880189 L7.11505594,28.2958292 Z M3.55633415,33.3526696 L8.81187928,33.3526696 L10.0169235,37.3006654 L4.59289148,37.3006654 L3.55633415,33.3526696 Z" id="path-3"></path>
                    <filter x="-21.7%" y="-27.5%" width="143.3%" height="165.0%" filterUnits="objectBoundingBox" id="filter-4">
                        <feOffset dx="0" dy="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset>
                        <feGaussianBlur stdDeviation="2" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur>
                        <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.5 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix>
                    </filter>
                    <path d="M9.41350991,0 L63.5256236,0 L60.3653461,19.4098796 C59.9268698,22.1029249 57.6217091,24 54.7878308,24 L0.675717093,24 L3.83599465,4.59012038 C4.27447086,1.89707509 6.57963159,3.55413818e-15 9.41350991,0 Z" id="path-5"></path>
                    <filter x="-10.3%" y="-22.9%" width="120.7%" height="154.2%" filterUnits="objectBoundingBox" id="filter-6">
                        <feOffset dx="0" dy="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset>
                        <feGaussianBlur stdDeviation="2" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur>
                        <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.5 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix>
                    </filter>
                </defs>
                <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                    <g id="门店详情" transform="translate(-10.000000, -725.000000)">
                        <g id="Group-25" transform="translate(14.000000, 728.000000)">
                            <g id="Combined-Shape">
                                <use fill="black" fill-opacity="1" filter="url(#filter-2)" xlink:href="#path-1"></use>
                                <use fill="#000000" fill-rule="evenodd" xlink:href="#path-1"></use>
                            </g>
                            <g id="Combined-Shape">
                                <use fill="black" fill-opacity="1" filter="url(#filter-4)" xlink:href="#path-3"></use>
                                <use fill="#000000" fill-rule="evenodd" xlink:href="#path-3"></use>
                            </g>
                            <g id="Group-7">
                                <g id="Rectangle-72">
                                    <use fill="black" fill-opacity="1" filter="url(#filter-6)" xlink:href="#path-5"></use>
                                    <use fill="#FE4D3D" fill-rule="evenodd" xlink:href="#path-5"></use>
                                </g>
                                <path d="M20.5324463,12.758704 L20.9769486,10.2229206 L13.6366547,10.2229206 L14.0255942,8.00411012 L21.3658881,8.00411012 L21.7707169,5.69465527 L15.170967,5.81205124 L15.5569649,3.61002213 L33.3874766,3.23044524 L32.9905047,5.49507832 L26.5728384,5.6092354 L26.1530363,8.00411012 L33.1741869,8.00411012 L32.7852474,10.2229206 L25.7640967,10.2229206 L25.3195944,12.758704 L31.7024586,12.758704 L30.2578261,21 L12.3858063,21 L13.8304388,12.758704 L20.5324463,12.758704 Z M18.2286475,14.9775144 L17.561894,18.7811895 L26.1787607,18.7811895 L26.8455142,14.9775144 L18.2286475,14.9775144 Z M8.9418792,3 L13.2653679,3 L13.6671433,7.58382391 L9.37864237,7.58382391 L8.9418792,3 Z M8.28453962,8.74499427 L12.6953285,8.74499427 L12.871361,12.7995484 L8.5369277,12.7995484 L8.28453962,8.74499427 Z M7.87517992,14.4613622 L12.5115261,14.4613622 L10.1631946,20.9205314 L5.48414837,20.9205314 L7.87517992,14.4613622 Z" id="Combined-Shape" fill="#FAFAFA"></path>
                                <path d="M48.3413672,5.22705897 L46.5088217,5.22583082 L46.1335463,7.37324784 L47.7542559,7.37324784 L44.046275,20.9277946 L48.5694916,20.9277946 L52.2728446,7.37324784 L53.721608,7.37324784 L51.7280861,18.7806647 L50.7361054,21 L55.4700845,21 L56.5318083,18.7806647 L58.8991544,5.23413473 L52.8583959,5.23008625 L53.4676968,3 L48.9506013,3 L48.3413672,5.22705897 Z M38.5683806,11.8323488 L44.9411195,11.8323488 L45.3297962,9.60824624 L32.5599901,9.60824624 L32.1713134,11.8323488 L34.1422222,11.8323488 L30.8243572,20.8938066 L43.152763,20.8938066 L43.8146965,14.0389728 L39.3557493,14.0389728 L38.9381071,18.884139 L36.3420098,18.884139 L38.5683806,11.8323488 Z M33.9342149,3.57139648 L46.0655307,3.57139648 L45.676854,5.79549902 L33.5455382,5.79549902 L33.9342149,3.57139648 Z" id="Combined-Shape" fill="#FAFAFA"></path>
                            </g>
                        </g>
                    </g>
                </g>
            </svg>
          <!-- <p>活动</p>
          <p>头条</p> -->
        </div>
      </div>
      <div class="notice-marquee">
        <div class="notice-marquee-wraper">
          <div class="line line1">
            <marquee :item-height="20">
              <marquee-item v-for="(item,index) in activity_list1" :key="index">
                <router-link :to="'/'+item.link">
                  <span class="fa fa-circle"></span>{{item.title}}</router-link>

              </marquee-item>
            </marquee>
          </div>
          <div class="line">
            <marquee :item-height="20">
              <marquee-item v-for="(item,index) in activity_list2" :key="index">
                <router-link :to="'/'+item.link">
                  <span class="fa fa-circle"></span>{{item.title}}</router-link>
              </marquee-item>
            </marquee>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>
<script>
import { Marquee, MarqueeItem } from "vux";
import api from "api/api";
export default {
  name: "top-news",
  components: {
    Marquee,
    MarqueeItem
  },
  props: {},
  data() {
    return {
      activity_list: []
    };
  },
  computed: {
    activity_list1: function() {
      return this.activity_list.filter((item, index) => index % 2 === 0);
    },
    activity_list2: function() {
      return this.activity_list.filter((item, index) => index % 2 !== 0);
    }
  },
  created: function() {
    this.init();
  },
  methods: {
    async init() {
      const activeResult = await api.userHomeList();
      const { list: activity_list } = activeResult.data;
      this.activity_list = activity_list;
    }
  }
};
</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
<style lang="less">
@import "~styles/index.less"; // 全局自定义样式
.notice {
  background: #fff;
  font-size: 0.2rem;
  // margin-top: 2rem;
  display: flex;
  &-logo {
    font-size: 0.3rem;
    height: 1rem;
    color: #fe4d3d;
    flex: 0 0 0.86rem;
    line-height: 1;
    display: flex;
    justify-content: center;
    align-items: center;
    border-right: 1px solid @gray;
    svg {
      width: 0.8rem;
    }
  }
  &-marquee {
    flex: 0 0 5.12rem;
    height: 1rem;
    display: flex;
    align-items: center;
    &-wraper {
      width: 100%;
      .line {
        padding-left: 10px;
        height: 20px;
        .fa {
          font-size: 0.14rem;
          margin-right: 3px;
          color: #fe4d3d;
          vertical-align: middle;
        }
        li {
          line-height: 20px;
          font-size: 0.24rem;
        }
        &.line1 {
          border-bottom: 1px solid @gray;
        }
      }
    }
  }
  .btn {
    text-align: center;
    border-left: 1px solid @gray;
    padding-left: 0.2rem;
    margin-left: 0.1rem;

    .icon {
      font-size: 0.4rem;
    }
    .txt {
      line-height: 1;
      font-size: 0.24rem;
    }
  }
}
</style>
